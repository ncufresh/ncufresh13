(function(a){function f(a,b,d,g){a={position:new google.maps.LatLng(a,b),pov:{zoom:parseInt(g),heading:parseInt(d),pitch:0}};new google.maps.StreetViewPanorama(document.getElementById("google"),a)}function h(c){jQuery.ajax({success:function(b){a("#detail").html(b.html);f(b.panorama.lat,b.panorama.lon,b.panorama.heading,b.panorama.zoom);a(".detail").hide().fadeIn("slow",function(){a.bar(a("#space"))});a("#return").fadeIn("slow")},dataType:"json",data:{select:c},url:motiondetail,beforeSend:function(){a("#detail").show();
a("#google").remove();a('<img id="loading" src='+bUrl+"/file/img/campusTour/loading.gif>").appendTo(a("#detail"))},complete:function(){a("#loading").remove()},error:function(){alertMsg("Error loading","","error")},cache:!1})}function e(c,b){"basemap"!=c&&("on"==b?(a("#"+c).css("z-index","2"),a("#"+c).attr("src",bUrl+"/file/img/campusTour/map/"+c+"_hover.png")):"off"==b&&(a("#"+c).css("z-index","1"),a("#"+c).attr("src",bUrl+"/file/img/campusTour/map/"+c+"_base.png")))}function k(c){a(".place img").each(function(){a(this).attr("src",
bUrl+"/file/img/campusTour/button_left/button_"+a(this).attr("id")+".png")});a("#"+c).attr("src",bUrl+"/file/img/campusTour/button_left/button_"+c+"_light.png")}a.campusTour=function(c){var b,d;a(".place img").click(function(){var c=b=a(this).attr("id");a(".mDormitory").attr("style","display:none");a(".mSport").attr("style","display:none");a(".mLandscape").attr("style","display:none");a(".mMeal").attr("style","display:none");a(".mBuilding").attr("style","display:none");a(".mDepartment").attr("style",
"display:none");a(".map").attr("style","display:none");a(".m"+c).attr("style","display:block");k(b)});a(".place img").each(function(){b=a(this).attr("id");"Dormitory"!=b?a(this).attr("src",bUrl+"/file/img/campusTour/button_left/button_"+b+".png"):a(this).attr("src",bUrl+"/file/img/campusTour/button_left/button_"+b+"_light.png")});a("#map").children().each(function(){b=a(this).attr("id");"basemap"!=b?a(this).attr("src",bUrl+"/file/img/campusTour/map/"+b+"_base.png"):a(this).attr("src",bUrl+"/file/img/campusTour/map/"+
b+".png")});a("#map img").mouseover(function(){b=a(this).attr("id");d="on";e(b,d)}).mouseout(function(){d="off";e(b,d)});a("#map img").click(function(){b=a(this).attr("id");"basemap"!=b&&(h(b),a("#all").animate({marginLeft:"-95%"},"slow"))});a("#return").click(function(){a("#space").fadeOut("slow");a(".inside").fadeOut("slow");a("#all").animate({marginLeft:"1%"},"slow")})}})(jQuery);(function(a){a(document).ready(function(){a.campusTour()})})(jQuery);